<template>
    <template lwc:if={expedition}>
        <lightning-card class="slds-p-horizontal_medium">
            <div class="slds-grid slds-grid_align-spread">
                <div class="slds-col slds-align_absolute-center slds-box slds-m-around_small">
                    {expedition.expeditionName}
                </div>
                <div class="slds-col slds-align_absolute-center slds-box slds-m-around_small">
                    {expedition.expeditionDuration}
                </div>
            </div>
            <template for:each={expedition.expeditionActions} for:item="action">
                <div key={action.Id} class="slds-box slds-m-horizontal_medium">
                   <div class="slds-grid slds-gutters slds-grid_vertical-align-center slds-align_absolute-center">
                        <div class="slds-col">
                            <lightning-input type="checkbox" checked={action.Action_Completed__c} disabled={action.Action_Completed__c} onchange={updateTaskStatus} data-id={action.Id}></lightning-input>
                        </div>
                        <div class="slds-col">
                            <lightning-formatted-text type="text" value={action.Title__c} data-id={action.Id}></lightning-formatted-text>
                        </div>
                        <div class="slds-col">
                            <lightning-formatted-text type="text" value={action.Description__c} data-id={action.Id}></lightning-formatted-text>
                        </div>
                        <div class="slds-col slds-p-bottom_medium">
                            <lightning-input title="InputFindings" placeholder="Findings Input" type="text" disabled={action.Action_Completed__c} data-id={action.Id}></lightning-input>
                        </div>
                        <div class="slds-col">
                            <lightning-button variant="neutral" label="Update" disabled={action.Action_Completed__c} data-id={action.Id} onclick={updateActionFindings}></lightning-button>
                        </div>
                   </div>
                <!-- <lightning-datatable
                    class="slds-table slds-table_cell-buffer slds-table_header-hidden"
                    key-field="id"
                    data={expedition.expeditionActions}
                    columns={columns}
                    hide-table-header
                    suppress-bottom-bar
                    style="border: none;"
                    >
                </lightning-datatable> -->
                </div>
            </template>
            <div class="slds-grid slds-grid_align-spread">
                <div class="slds-col slds-align_absolute-center  slds-m-around_small">
                    <div class="slds-form-element slds-align_absolute-center">
                        <div class="slds-form-element__control">
                          <div class="slds-file-selector slds-file-selector_files">
                            <input type="file" class="slds-file-selector__input slds-assistive-text" accept="image/png, .jpg, image/jpeg" 
                            id="file-upload-input-115" aria-labelledby="file-selector-primary-label-113 file-selector-secondary-label114" onchange={handleFileUpload} disabled={expeditionCompleted}/>
                            <label class="slds-file-selector__body" for="file-upload-input-115" id="file-selector-secondary-label114">
                            <span class="slds-file-selector__button slds-button slds-button_neutral" >
                                Import Images</span>
                            </label>
                          </div>
                        </div>
                      </div>
                </div>
                <div class="slds-col slds-align_absolute-center  slds-m-around_small">
                    <lightning-button variant="neutral" label="Add Note" onclick={uploadNote} disabled={expeditionCompleted}></lightning-button>
                </div>
                <div class="slds-col slds-align_absolute-center  slds-m-around_small">
                    <lightning-button variant="neutral" label="Expedition Complete" onclick={markExpeditionCompleted} disabled={expeditionCompleted}></lightning-button>
                </div>
            </div>
        </lightning-card>
    </template>
</template>